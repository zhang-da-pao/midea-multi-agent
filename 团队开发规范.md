# 🚀 团队开发协作规范 (GitHub Workflow)

欢迎加入开发团队！为了保证项目代码的整洁、稳定，并减少合并冲突，我们统一采用 **“双主分支 + 功能分支”** 的协作模式。请每位队员在开始工作前仔细阅读本规范。

## 1. 分支管理策略

本项目在 GitHub 上主要维护两个长期分支：

* **`main` 分支**：**正式发布分支**。仅存放经过严格测试、准备发布的稳定代码。
* *权限*：仅限项目负责人（Admin）操作。
* *操作*：由负责人定期从 `dev` 分支合并，队员严禁直接推送或提 PR 到此分支。


* **`dev` 分支**：**日常开发主分支**。这是所有队员工作的“基准线”。
* *规则*：**所有队员的代码最终都必须合并到此分支。** 所有的 PR 目标分支必须选择 `dev`。



---

## 2. 核心名词解释 (新人必读)

如果您是第一次使用 GitHub，请先理解以下概念：

* **Repository (仓库)**：存放项目所有代码、文档和版本记录的地方。
* **Branch (分支)**：就像代码的“平行宇宙”。你可以在不影响他人的情况下，在自己的分支里大胆修改，完成后再合并回主干。
* **Clone (克隆)**：将 GitHub 云端的代码完整地下载到你本地电脑的过程（一生只需对一个项目做一次）。
* **Pull (拉取)**：将云端最新的代码更新下载并覆盖到你本地的操作。
* **Commit (提交)**：为你本次的修改打一个“快照”，并记录说明。
* **Push (推送)**：将你本地电脑上的提交记录上传到 GitHub 服务器。
* **Pull Request (简称 PR)**：**这是协作的核心。** 它的字面意思是“拉取请求”，实际上是你向管理员发起的申请：“我写好了一些功能，请审查一下，如果没有问题，请把我的代码‘拉’过去合并到 `dev` 分支中。”

---

## 3. 标准开发全流程

请大家严格遵守以下五个阶段：

### 第一阶段：获取与同步代码

在开始新任务之前，必须保证你手里的代码是最新的。

1. **克隆仓库（仅限第一次）**：
```bash
git clone [仓库地址]
cd [项目文件夹名称]

```


2. **切换到开发分支**：
```bash
git checkout dev

```


3. **拉取最新改动**：
```bash
git pull origin dev

```


*注：每天早上动手写代码前，都请执行一次 `git pull`。*

### 第二阶段：创建功能分支

**严禁直接在 `dev` 分支上修改代码！** 请务必创建独立分支进行开发。

1. **创建并切换分支**：
```bash
# 命名规范：feature/功能名 或 fix/缺陷名
git checkout -b feature/login-module

```



### 第三阶段：编写代码与提交

在你的独立分支（如 `feature/login-module`）上自由地编写代码。

1. **查看修改状态**：`git status`
2. **暂存修改**：`git add .`
3. **提交到本地**：
```bash
git commit -m "feat: 增加登录页面的验证逻辑"

```


*建议：提交信息简明扼要，前缀常用 `feat:`(新功能) 或 `fix:`(修Bug)。*

### 第四阶段：推送代码到 GitHub

当你完成了一个阶段的任务，需要将代码上传。

1. **推送分支**：
```bash
git push origin feature/login-module

```



### 第五阶段：提交 Pull Request (PR)

这是让你的代码进入 `dev` 分支的唯一途径。

1. **发起 PR**：打开 GitHub 仓库网页，点击 “Pull requests” -> “New pull request”。
2. **【非常重要】选择分支**：
* **base (目标分支)**：选择 **`dev`**
* **compare (源分支)**：选择你刚刚推送的 **`feature/login-module`**


3. **填写说明**：简单描述你做了什么修改，解决了什么问题。
4. **点击创建**：点击 "Create pull request"。
5. **代码评审 (Code Review)**：负责人会查看你的代码。如果有修改建议，你只需在本地修改后再次 commit 和 push，PR 会自动更新。

---

## 4. 后续合并

* **合并入 Dev**：代码审核通过后，负责人会将你的 PR 合并入 `dev` 分支。
* **合并入 Main**：当项目达到一个里程碑（如版本发布）时，由负责人统一将 `dev` 的内容合并至 `main`。

---

## 💡 注意事项与救急方案

* **不要碰 Main 分支**：在提 PR 时，如果发现目标分支（base）默认是 `main`，请务必手动改选为 `dev`。
* **遇到冲突 (Conflict)**：如果两个人在同一时间改了同一行代码，Git 会报错。**不要删除文件夹！** 请联系负责人，我会演示如何通过“解决冲突”来保留两人的代码。
* **保持沟通**：如果你准备开始一个大模块的开发，请先在群里打个招呼，避免多人同时修改同一个文件。

---

*本规范自发布之日起执行，如有疑问请随时联系负责人。*