{
  "id": "",
  "module_type": "bitGroup",
  "category": "运算模块/数学运算",
  "name": "位组合运算",
  "description": "位组合运算模块将多个布尔值输入按二进制位组合成一个整型数。支持2-16个输入端口,每个输入作为二进制的一位,从低位到高位依次组合。典型应用场景包括:组合多个设备状态为状态码、编码多个传感器状态、将多个控制信号组合为控制字、打包开关量状态用于通信传输等。所有输入信号必须是布尔值(0或1),输出为整型数。",
  "keywords": [
    "位组合",
    "位组合运算",
    "二进制组合",
    "bit group",
    "bit packing",
    "位打包",
    "位编码",
    "状态组合",
    "编码",
    "encoding",
    "binary combination",
    "位合成",
    "多位组合",
    "状态码生成",
    "控制字",
    "control word",
    "状态编码",
    "位操作"
  ],
  "usage_guides": [
    "基本运算: 将多个布尔值输入按二进制位组合成一个整型数。运算公式: 位1×2^0 + 位2×2^1 + ... + 位n×2^(n-1) = 输出。位1为最低位(第0位),位n为最高位(第n-1位)。",
    "示例: 位1=True(1), 位2=False(0), 位3=True(1), 输出=1×2^0+0×2^1+1×2^2=1+0+4=5(二进制101)。",
    "输入顺序: 输入1对应最低位(2^0),输入2对应第2位(2^1),输入n对应第n位(2^(n-1)),依次类推。",
    "输入数量配置: 可在2-16范围内调整输入端口数量,默认值为8。输入数量即组合后的二进制位数。",
    "应用场景1: 设备状态编码-将多台设备的运行状态(运行/停止)组合为一个状态码,如8台风机的状态组合为一个8位整数(0-255),便于状态监控和历史记录存储。",
    "应用场景2: 传感器状态打包-将多个传感器的故障状态、报警状态等布尔量组合为一个整数,通过Modbus或BACnet协议传输,减少通信寄存器占用,提高通信效率。",
    "应用场景3: 控制字生成-将多个离散控制信号(如阀开关、泵启停、风机调速等)组合为一个控制字,通过一个数字输出端口控制外部设备,简化硬件接线。",
    "布尔值说明: 输入为布尔值,True或1表示该位为1,False或0表示该位为0。输出为对应的十进制整型数。",
    "wires连接: wires数组根据输入数量自动生成,包含与输入端口数量相同的空数组,用于连接上游布尔值输出。",
    "停用保护: 默认 outOfService=0(启用状态),可设置为1进入维护模式并输出0。",
    "注意事项: 所有输入信号必须是布尔值(0或1);注意输入顺序,输入1是最低位;输入数量决定了组合后的数值范围(如8位为0-255,16位为0-65535);理解二进制位权重的概念。"
  ],
  "parameters_schema": {
    "name": {
      "type": "string",
      "description": "模块显示名称,由用户根据实际应用场景定义。",
      "maxLength": 50,
      "default": "user_defined_name"
    },
    "inputs": {
      "type": "integer",
      "description": "运算输入数量,即组合的二进制位数。输入1为最低位,输入n为最高位。",
      "minimum": 2,
      "maximum": 16,
      "default": 8
    }
  },
  "template_json": {
    "id": "{{__GEN_ID__}}",
    "z": "{{__FLOW_ID__}}",
    "type": "bitGroup",
    "name": "{{user_defined_name}}",
    "inputs": "{{inputs}}",
    "outputs": 1,
    "outOfService": 0,
    "outOfServiceValue": 0,
    "x": "{{__AUTO_X__}}",
    "y": "{{__AUTO_Y__}}",
    "wires": "{{__WIRES__}}"
  }
}
