{
  "id": "",
  "module_type": "modulo",
  "category": "运算模块/数学运算",
  "name": "模运算",
  "description": "模运算模块对输入信号进行取模运算（求余数）。支持1-2个输入端口。当输入数量=2时,对两个输入进行取模运算,输出第一个输入除以第二个输入的余数;当输入数量=1时,输出输入信号与固定值的模(余数)。典型应用场景包括:循环计数、周期检测、数值范围限制、时间周期计算、判断奇偶性等。所有输入信号必须是数值类型,取模数(第二个输入或固定值)不能为零。",
  "keywords": [
    "模运算",
    "取模",
    "求余",
    "余数",
    "modulo",
    "modulus",
    "remainder",
    "取余数",
    "求模",
    "mod",
    "周期",
    "循环",
    "整除余数",
    "取余运算",
    "modular",
    "cyclic",
    "periodic"
  ],
  "usage_guides": [
    "双输入模式(输入数量=2): 连接2个输入信号,第一个为被取模数,第二个为取模数。运算公式: 输入1 mod 输入2 = 输出。例如: 8 mod 5 = 3。",
    "单输入模式(输入数量=1): 连接1个输入信号作为被取模数,使用固定值作为取模数。运算公式: 输入1 mod [固定值] = 输出。固定值不能为零。此模式常用于循环计数,如固定值设为24可实现小时循环计数(0-23)。",
    "输入数量配置: 可在1-2范围内调整输入端口数量,默认值为2。",
    "固定值配置: 仅在输入数量=1时有效,作为取模数参与运算,不能为零,常用于创建周期性计数或限制数值在指定范围内。",
    "端口说明: 输入1为运算对象1(被取模数),输入2为运算对象2(取模数),输出为运算结果(余数)。",
    "wires连接: wires数组根据输入数量自动生成,包含与输入端口数量相同的空数组,用于连接上游模块的输出。",
    "停用保护: 默认 outOfService=0(启用状态),可设置为1进入维护模式并输出固定值。",
    "注意事项: 所有输入信号必须是数值类型;固定值只在单输入模式下参与运算且不能为零;取模数(第二个输入或固定值)不能为零;例如 8 mod 5 = 3,表示8除以5的余数是3。"
  ],
  "parameters_schema": {
    "name": {
      "type": "string",
      "description": "模块显示名称,由用户根据实际应用场景定义。",
      "maxLength": 50,
      "default": "user_defined_name"
    },
    "inputs": {
      "type": "integer",
      "description": "运算输入数量。当=2时,对两个输入进行取模运算;当=1时,对输入与固定值进行取模运算。",
      "minimum": 1,
      "maximum": 2,
      "default": 2
    },
    "fixedValue": {
      "type": "number",
      "description": "固定值。仅在输入数量=1时参与运算,作为取模数,不能为零。",
      "default": 0
    }
  },
  "template_json": {
    "id": "{{__GEN_ID__}}",
    "z": "{{__FLOW_ID__}}",
    "type": "modulo",
    "name": "{{user_defined_name}}",
    "inputs": "{{inputs}}",
    "outputs": 1,
    "fixedValue": "{{fixedValue}}",
    "outOfService": 0,
    "outOfServiceValue": 0,
    "x": "{{__AUTO_X__}}",
    "y": "{{__AUTO_Y__}}",
    "wires": "{{__WIRES__}}"
  }
}
